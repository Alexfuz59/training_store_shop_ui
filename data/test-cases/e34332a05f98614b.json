{"uid":"e34332a05f98614b","name":"Checking successful payment","fullName":"test.test_payment.TestPayment#test_successful_completion_delivery_data","historyId":"7cde5bda2c9c39837b0b2e9ef1984366","time":{"start":1714121075355,"stop":1714121092713,"duration":17358},"status":"broken","statusMessage":"TypeError: unsupported operand type(s) for +=: 'ErrorMessage' and 'str'","statusTrace":"self = <test_payment.TestPayment object at 0x7f85c818b920>\nproceed_to_payment = None\n\n    @pytest.mark.parametrize(\"add_product_to_cart\", [1], indirect=True)\n    @allure.title(\"Checking successful payment\")\n    def test_successful_completion_delivery_data(self, proceed_to_payment):\n        self.payment.set_email()\n        self.payment.set_name()\n        self.payment.click_button_manual_address()\n        self.payment.select_country_usa()\n        self.payment.set_address()\n        self.payment.set_city()\n        self.payment.set_postcode()\n        self.payment.set_state()\n        self.payment.check_free_shipping()\n        self.payment.modal_window_close()\n        self.payment.set_card()\n        self.payment.set_date_card()\n        self.payment.set_cvc_card()\n        self.payment.check_address_matches()\n        self.payment.check_state_button_submit()\n        self.payment.modal_window_close()\n        self.payment.click_button_submit()\n>       self.payment.payment_completed_successful()\n\ntest/test_payment.py:62: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7f85c3dc1250>\n\n    @allure.step(\"Checking successful payment\")\n    def payment_completed_successful(self):\n        self.expect(self.page, ErrorMessage.ERROR_URL). \\\n>           to_have_url(Links.PAYMENT_COMPLETED, timeout=10000)\nE       TypeError: unsupported operand type(s) for +=: 'ErrorMessage' and 'str'\n\npages/payment.py:183: TypeError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1714120999375,"stop":1714120999376,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1714120999375,"stop":1714120999375,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1714120999376,"stop":1714120999376,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_session_faker","time":{"start":1714120999376,"stop":1714120999393,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1714120999376,"stop":1714120999376,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type_launch_args","time":{"start":1714120999393,"stop":1714120999393,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright","time":{"start":1714120999393,"stop":1714120999630,"duration":237},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type","time":{"start":1714120999630,"stop":1714120999630,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser","time":{"start":1714120999631,"stop":1714121000078,"duration":447},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"launch_browser","time":{"start":1714120999631,"stop":1714120999631,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"device","time":{"start":1714121000079,"stop":1714121000079,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Creating allure environments","time":{"start":1714121000079,"stop":1714121000079,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1714121000080,"stop":1714121000080,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1714121069492,"stop":1714121069519,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1714121069520,"stop":1714121069910,"duration":390},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"add_product_to_cart","time":{"start":1714121069911,"stop":1714121073017,"duration":3106},"status":"passed","steps":[{"name":"Open URL","time":{"start":1714121069911,"stop":1714121071183,"duration":1272},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714121071183,"stop":1714121071213,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Add items to cart","time":{"start":1714121071213,"stop":1714121072577,"duration":1364},"status":"passed","steps":[{"name":"Number of products on the page","time":{"start":1714121072075,"stop":1714121072088,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714121072164,"stop":1714121072577,"duration":413},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"quantity","value":"1"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Open the cart view window","time":{"start":1714121072577,"stop":1714121072827,"duration":250},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Open shopping cart","time":{"start":1714121072827,"stop":1714121073010,"duration":183},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714121073010,"stop":1714121073017,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":0,"hasContent":true},{"name":"setup","time":{"start":1714121069911,"stop":1714121069911,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Go to payment","time":{"start":1714121073017,"stop":1714121075354,"duration":2337},"status":"passed","steps":[{"name":"Click the payment button","time":{"start":1714121073017,"stop":1714121075328,"duration":2311},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Checking the site payment domain","time":{"start":1714121075328,"stop":1714121075354,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true}],"testStage":{"status":"broken","statusMessage":"TypeError: unsupported operand type(s) for +=: 'ErrorMessage' and 'str'","statusTrace":"self = <test_payment.TestPayment object at 0x7f85c818b920>\nproceed_to_payment = None\n\n    @pytest.mark.parametrize(\"add_product_to_cart\", [1], indirect=True)\n    @allure.title(\"Checking successful payment\")\n    def test_successful_completion_delivery_data(self, proceed_to_payment):\n        self.payment.set_email()\n        self.payment.set_name()\n        self.payment.click_button_manual_address()\n        self.payment.select_country_usa()\n        self.payment.set_address()\n        self.payment.set_city()\n        self.payment.set_postcode()\n        self.payment.set_state()\n        self.payment.check_free_shipping()\n        self.payment.modal_window_close()\n        self.payment.set_card()\n        self.payment.set_date_card()\n        self.payment.set_cvc_card()\n        self.payment.check_address_matches()\n        self.payment.check_state_button_submit()\n        self.payment.modal_window_close()\n        self.payment.click_button_submit()\n>       self.payment.payment_completed_successful()\n\ntest/test_payment.py:62: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7f85c3dc1250>\n\n    @allure.step(\"Checking successful payment\")\n    def payment_completed_successful(self):\n        self.expect(self.page, ErrorMessage.ERROR_URL). \\\n>           to_have_url(Links.PAYMENT_COMPLETED, timeout=10000)\nE       TypeError: unsupported operand type(s) for +=: 'ErrorMessage' and 'str'\n\npages/payment.py:183: TypeError","steps":[{"name":"Set email","time":{"start":1714121075355,"stop":1714121075599,"duration":244},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set name","time":{"start":1714121075599,"stop":1714121075897,"duration":298},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click the button to enter an address manually","time":{"start":1714121075897,"stop":1714121076413,"duration":516},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set country usa","time":{"start":1714121076413,"stop":1714121076464,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set address","time":{"start":1714121076464,"stop":1714121076521,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set city","time":{"start":1714121076522,"stop":1714121076596,"duration":74},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set postcode","time":{"start":1714121076596,"stop":1714121076672,"duration":76},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set state","time":{"start":1714121076672,"stop":1714121076749,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Checking for free delivery","time":{"start":1714121076749,"stop":1714121076759,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Close modal window","time":{"start":1714121076759,"stop":1714121077263,"duration":504},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set card","time":{"start":1714121077263,"stop":1714121077345,"duration":82},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set date card","time":{"start":1714121077345,"stop":1714121077408,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set cvc card","time":{"start":1714121077408,"stop":1714121077493,"duration":85},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Ð¡heck address matches","time":{"start":1714121077494,"stop":1714121077515,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check submit button is inactive","time":{"start":1714121077515,"stop":1714121077531,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Close modal window","time":{"start":1714121077531,"stop":1714121082539,"duration":5008},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click button submit","time":{"start":1714121082539,"stop":1714121082702,"duration":163},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Checking successful payment","time":{"start":1714121082702,"stop":1714121092712,"duration":10010},"status":"broken","statusMessage":"TypeError: unsupported operand type(s) for +=: 'ErrorMessage' and 'str'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/training_store_shop_ui/training_store_shop_ui/pages/payment.py\", line 183, in payment_completed_successful\n    to_have_url(Links.PAYMENT_COMPLETED, timeout=10000)\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 18220, in to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 120, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 65, in _expect_impl\n    out_message += f\"\\nExpected value: '{expected or '<None>'}'\"\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":18,"attachmentsCount":0,"hasContent":true},"afterStages":[{"name":"page::0","time":{"start":1714121092724,"stop":1714121092871,"duration":147},"status":"passed","steps":[],"attachments":[{"uid":"68a8153278296f7d","name":"test_successful_completion_delivery_data[firefox-1].png","source":"68a8153278296f7d.png","type":"image/png","size":155706}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"context::0","time":{"start":1714121092871,"stop":1714121092890,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1714121123533,"stop":1714121124179,"duration":646},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::0","time":{"start":1714121124182,"stop":1714121124191,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"Order payment"},{"name":"parentSuite","value":"test"},{"name":"suite","value":"test_payment"},{"name":"subSuite","value":"TestPayment"},{"name":"host","value":"fv-az1536-576"},{"name":"thread","value":"5243-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.test_payment"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"add_product_to_cart","value":"1"},{"name":"browser_name","value":"'firefox'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":2,"unknown":0,"total":3},"items":[{"uid":"b21a43c957092a10","status":"passed","time":{"start":1714118572001,"stop":1714118584476,"duration":12475}},{"uid":"802a5274448be71c","status":"passed","time":{"start":1714116959084,"stop":1714116971470,"duration":12386}}]},"tags":[]},"source":"e34332a05f98614b.json","parameterValues":["1","'firefox'"]}