{"uid":"5517d4a21260c63a","name":"Price check with paid shipping","fullName":"test.test_payment.TestPayment#test_price_cart_in_payment_delivery_paid","historyId":"67f34f6516686c153018094aa2b1390d","time":{"start":1714118018300,"stop":1714118022194,"duration":3894},"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]","statusTrace":"self = <test_payment.TestPayment object at 0x7f42f1a06960>\nadd_product_to_cart = None\n\n    @allure.title(\"Price check with paid shipping\")\n    def test_price_cart_in_payment_delivery_paid(self, add_product_to_cart):\n        total_product_posit_cart = self.shopping_cart.total_product_positions()\n        total_all_price_cart = self.shopping_cart.total_all_price()\n        self.shopping_cart.button_proceed_to_checkout_click()\n        self.payment.click_paid_shipping()\n        self.payment.click_button_all_products()\n        total_product_posit_pay = self.payment.total_product_positions_payment()\n        total_all_price_pay = self.payment.total_all_price_payment()\n>       delivery = self.payment.cost_delivery()\n\ntest/test_payment.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7f42f1309c40>\n\n    @allure.step(\"Delivery price\")\n    def cost_delivery(self):\n        free_shipping = self.page.locator(self.RADIOBUTTON_FREE_SHIPPING).nth(0)\n        paid_shipping = self.page.locator(self.RADIOBUTTON_PAID_SHIPPING).nth(1)\n        if free_shipping.is_checked():\n            price = self.page.locator(self.DELIVERY_PRICE).inner_text()\n            assert price == 'Free'\n            return 0\n        elif paid_shipping.is_checked():\n            len_price = self.page.locator(self.CURRENCY).count()\n            price_str = self.page.locator(self.CURRENCY).nth(len_price - 3).inner_text()\n>           price = Decimal(price_str.replace('$', '') \\\n                          .replace(',', '.') \\\n                          .replace('\\xa0', ''))\nE           decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n\npages/payment.py:153: InvalidOperation","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1714117791620,"stop":1714117791620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1714117791620,"stop":1714117791620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1714117791620,"stop":1714117791620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_session_faker","time":{"start":1714117791620,"stop":1714117791637,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1714117791620,"stop":1714117791620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type_launch_args","time":{"start":1714117791637,"stop":1714117791637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright","time":{"start":1714117791638,"stop":1714117791883,"duration":245},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1714117792515,"stop":1714117792515,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"device","time":{"start":1714117792515,"stop":1714117792515,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"launch_browser","time":{"start":1714117931052,"stop":1714117931052,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type","time":{"start":1714117931052,"stop":1714117931052,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser","time":{"start":1714117931052,"stop":1714117931457,"duration":405},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Creating allure environments","time":{"start":1714117931457,"stop":1714117931458,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1714118010368,"stop":1714118010387,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1714118010387,"stop":1714118010722,"duration":335},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"setup","time":{"start":1714118010722,"stop":1714118010722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"add_product_to_cart","time":{"start":1714118010722,"stop":1714118018299,"duration":7577},"status":"passed","steps":[{"name":"Open URL","time":{"start":1714118010723,"stop":1714118012009,"duration":1286},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714118012009,"stop":1714118012040,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Add items to cart","time":{"start":1714118012040,"stop":1714118017878,"duration":5838},"status":"passed","steps":[{"name":"Number of products on the page","time":{"start":1714118013369,"stop":1714118013378,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118013452,"stop":1714118013750,"duration":298},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118013817,"stop":1714118014196,"duration":379},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118014249,"stop":1714118014661,"duration":412},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118014935,"stop":1714118015216,"duration":281},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118015281,"stop":1714118015671,"duration":390},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118015732,"stop":1714118016117,"duration":385},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118016184,"stop":1714118016562,"duration":378},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118016614,"stop":1714118017005,"duration":391},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118017065,"stop":1714118017446,"duration":381},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118017499,"stop":1714118017878,"duration":379},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"quantity","value":"10"}],"shouldDisplayMessage":false,"stepsCount":11,"attachmentsCount":0,"hasContent":true},{"name":"Open the cart view window","time":{"start":1714118017878,"stop":1714118017935,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Open shopping cart","time":{"start":1714118017935,"stop":1714118018282,"duration":347},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714118018283,"stop":1714118018299,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":17,"attachmentsCount":0,"hasContent":true}],"testStage":{"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]","statusTrace":"self = <test_payment.TestPayment object at 0x7f42f1a06960>\nadd_product_to_cart = None\n\n    @allure.title(\"Price check with paid shipping\")\n    def test_price_cart_in_payment_delivery_paid(self, add_product_to_cart):\n        total_product_posit_cart = self.shopping_cart.total_product_positions()\n        total_all_price_cart = self.shopping_cart.total_all_price()\n        self.shopping_cart.button_proceed_to_checkout_click()\n        self.payment.click_paid_shipping()\n        self.payment.click_button_all_products()\n        total_product_posit_pay = self.payment.total_product_positions_payment()\n        total_all_price_pay = self.payment.total_all_price_payment()\n>       delivery = self.payment.cost_delivery()\n\ntest/test_payment.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7f42f1309c40>\n\n    @allure.step(\"Delivery price\")\n    def cost_delivery(self):\n        free_shipping = self.page.locator(self.RADIOBUTTON_FREE_SHIPPING).nth(0)\n        paid_shipping = self.page.locator(self.RADIOBUTTON_PAID_SHIPPING).nth(1)\n        if free_shipping.is_checked():\n            price = self.page.locator(self.DELIVERY_PRICE).inner_text()\n            assert price == 'Free'\n            return 0\n        elif paid_shipping.is_checked():\n            len_price = self.page.locator(self.CURRENCY).count()\n            price_str = self.page.locator(self.CURRENCY).nth(len_price - 3).inner_text()\n>           price = Decimal(price_str.replace('$', '') \\\n                          .replace(',', '.') \\\n                          .replace('\\xa0', ''))\nE           decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n\npages/payment.py:153: InvalidOperation","steps":[{"name":"Number of product positions","time":{"start":1714118018300,"stop":1714118018311,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Price of the total order","time":{"start":1714118018311,"stop":1714118018320,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click the payment button","time":{"start":1714118018320,"stop":1714118020591,"duration":2271},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click radio button paid shipping","time":{"start":1714118020591,"stop":1714118021452,"duration":861},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click button all products","time":{"start":1714118021452,"stop":1714118021911,"duration":459},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Number of product positions in payment","time":{"start":1714118021911,"stop":1714118022109,"duration":198},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Price of the total order in payment","time":{"start":1714118022109,"stop":1714118022152,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Delivery price","time":{"start":1714118022153,"stop":1714118022194,"duration":41},"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/training_store_shop_ui/training_store_shop_ui/pages/payment.py\", line 153, in cost_delivery\n    price = Decimal(price_str.replace('$', '') \\\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":8,"attachmentsCount":0,"hasContent":true},"afterStages":[{"name":"page::0","time":{"start":1714118022202,"stop":1714118022562,"duration":360},"status":"passed","steps":[],"attachments":[{"uid":"8c14bbc6d4dd8501","name":"test_price_cart_in_payment_delivery_paid[10-firefox].png","source":"8c14bbc6d4dd8501.png","type":"image/png","size":191250}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"context::0","time":{"start":1714118022563,"stop":1714118022601,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1714118052334,"stop":1714118052977,"duration":643},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::0","time":{"start":1714118194220,"stop":1714118194235,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"Order payment"},{"name":"parentSuite","value":"test"},{"name":"suite","value":"test_payment"},{"name":"subSuite","value":"TestPayment"},{"name":"host","value":"fv-az569-497"},{"name":"thread","value":"5322-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.test_payment"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"add_product_to_cart","value":"10"},{"name":"browser_name","value":"'firefox'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"5517d4a21260c63a.json","parameterValues":["10","'firefox'"]}