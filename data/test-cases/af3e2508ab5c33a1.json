{"uid":"af3e2508ab5c33a1","name":"Price check with paid shipping","fullName":"test.test_payment.TestPayment#test_price_cart_in_payment_delivery_paid","historyId":"c3f67c4bc2ffc3f11295227f747f52bb","time":{"start":1714122177814,"stop":1714122181977,"duration":4163},"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]","statusTrace":"self = <test_payment.TestPayment object at 0x7fb69771ac90>\nadd_product_to_cart = None\n\n    @allure.title(\"Price check with paid shipping\")\n    def test_price_cart_in_payment_delivery_paid(self, add_product_to_cart):\n        total_product_posit_cart = self.shopping_cart.total_product_positions()\n        total_all_price_cart = self.shopping_cart.total_all_price()\n        self.shopping_cart.button_proceed_to_checkout_click()\n        self.payment.click_paid_shipping()\n        self.payment.click_button_all_products()\n        total_product_posit_pay = self.payment.total_product_positions_payment()\n        total_all_price_pay = self.payment.total_all_price_payment()\n>       delivery = self.payment.cost_delivery()\n\ntest/test_payment.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7fb6970536e0>\n\n    @allure.step(\"Delivery price\")\n    def cost_delivery(self):\n        free_shipping = self.page.locator(self.RADIOBUTTON_FREE_SHIPPING).nth(0)\n        paid_shipping = self.page.locator(self.RADIOBUTTON_PAID_SHIPPING).nth(1)\n        if free_shipping.is_checked():\n            price = self.page.locator(self.DELIVERY_PRICE).inner_text()\n            assert price == 'Free'\n            return 0\n        elif paid_shipping.is_checked():\n            len_price = self.page.locator(self.CURRENCY).count()\n            price_str = self.page.locator(self.CURRENCY).nth(len_price - 3).inner_text()\n>           price = Decimal(price_str.replace('$', '')\\\n                            .replace(',', '.')\\\n                            .replace('\\xa0', ''))\nE           decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n\npages/payment.py:153: InvalidOperation","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1714122086157,"stop":1714122086157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1714122086157,"stop":1714122086157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1714122086158,"stop":1714122086158,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_session_faker","time":{"start":1714122086158,"stop":1714122086176,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1714122086158,"stop":1714122086158,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright","time":{"start":1714122086176,"stop":1714122086459,"duration":283},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type_launch_args","time":{"start":1714122086176,"stop":1714122086176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type","time":{"start":1714122086459,"stop":1714122086459,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser","time":{"start":1714122086459,"stop":1714122087955,"duration":1496},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"launch_browser","time":{"start":1714122086459,"stop":1714122086459,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Creating allure environments","time":{"start":1714122087956,"stop":1714122087956,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"device","time":{"start":1714122087956,"stop":1714122087956,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1714122087956,"stop":1714122087956,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1714122170271,"stop":1714122170284,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1714122170284,"stop":1714122170339,"duration":55},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"setup","time":{"start":1714122170339,"stop":1714122170339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"add_product_to_cart","time":{"start":1714122170339,"stop":1714122177814,"duration":7475},"status":"passed","steps":[{"name":"Open URL","time":{"start":1714122170340,"stop":1714122171737,"duration":1397},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714122171737,"stop":1714122171759,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Add items to cart","time":{"start":1714122171759,"stop":1714122177411,"duration":5652},"status":"passed","steps":[{"name":"Number of products on the page","time":{"start":1714122173265,"stop":1714122173271,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122173310,"stop":1714122173671,"duration":361},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122173723,"stop":1714122174079,"duration":356},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122174131,"stop":1714122174495,"duration":364},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122174547,"stop":1714122174913,"duration":366},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122174962,"stop":1714122175326,"duration":364},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122175371,"stop":1714122175731,"duration":360},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122175785,"stop":1714122176146,"duration":361},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122176202,"stop":1714122176561,"duration":359},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122176615,"stop":1714122176978,"duration":363},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122177039,"stop":1714122177411,"duration":372},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"quantity","value":"10"}],"shouldDisplayMessage":false,"stepsCount":11,"attachmentsCount":0,"hasContent":true},{"name":"Open the cart view window","time":{"start":1714122177411,"stop":1714122177490,"duration":79},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Open shopping cart","time":{"start":1714122177491,"stop":1714122177805,"duration":314},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714122177805,"stop":1714122177813,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":17,"attachmentsCount":0,"hasContent":true}],"testStage":{"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]","statusTrace":"self = <test_payment.TestPayment object at 0x7fb69771ac90>\nadd_product_to_cart = None\n\n    @allure.title(\"Price check with paid shipping\")\n    def test_price_cart_in_payment_delivery_paid(self, add_product_to_cart):\n        total_product_posit_cart = self.shopping_cart.total_product_positions()\n        total_all_price_cart = self.shopping_cart.total_all_price()\n        self.shopping_cart.button_proceed_to_checkout_click()\n        self.payment.click_paid_shipping()\n        self.payment.click_button_all_products()\n        total_product_posit_pay = self.payment.total_product_positions_payment()\n        total_all_price_pay = self.payment.total_all_price_payment()\n>       delivery = self.payment.cost_delivery()\n\ntest/test_payment.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7fb6970536e0>\n\n    @allure.step(\"Delivery price\")\n    def cost_delivery(self):\n        free_shipping = self.page.locator(self.RADIOBUTTON_FREE_SHIPPING).nth(0)\n        paid_shipping = self.page.locator(self.RADIOBUTTON_PAID_SHIPPING).nth(1)\n        if free_shipping.is_checked():\n            price = self.page.locator(self.DELIVERY_PRICE).inner_text()\n            assert price == 'Free'\n            return 0\n        elif paid_shipping.is_checked():\n            len_price = self.page.locator(self.CURRENCY).count()\n            price_str = self.page.locator(self.CURRENCY).nth(len_price - 3).inner_text()\n>           price = Decimal(price_str.replace('$', '')\\\n                            .replace(',', '.')\\\n                            .replace('\\xa0', ''))\nE           decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n\npages/payment.py:153: InvalidOperation","steps":[{"name":"Number of product positions","time":{"start":1714122177814,"stop":1714122177819,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Price of the total order","time":{"start":1714122177819,"stop":1714122177824,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click the payment button","time":{"start":1714122177824,"stop":1714122181605,"duration":3781},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click radio button paid shipping","time":{"start":1714122181605,"stop":1714122181814,"duration":209},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click button all products","time":{"start":1714122181814,"stop":1714122181927,"duration":113},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Number of product positions in payment","time":{"start":1714122181927,"stop":1714122181939,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Price of the total order in payment","time":{"start":1714122181940,"stop":1714122181953,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Delivery price","time":{"start":1714122181953,"stop":1714122181977,"duration":24},"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/training_store_shop_ui/training_store_shop_ui/pages/payment.py\", line 153, in cost_delivery\n    price = Decimal(price_str.replace('$', '')\\\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":8,"attachmentsCount":0,"hasContent":true},"afterStages":[{"name":"page::0","time":{"start":1714122181988,"stop":1714122182238,"duration":250},"status":"passed","steps":[],"attachments":[{"uid":"5eb997b9bd5ba844","name":"test_price_cart_in_payment_delivery_paid[10-chromium].png","source":"5eb997b9bd5ba844.png","type":"image/png","size":159902}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"context::0","time":{"start":1714122182238,"stop":1714122182252,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1714122223447,"stop":1714122223476,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::0","time":{"start":1714122223479,"stop":1714122223489,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"Order payment"},{"name":"parentSuite","value":"test"},{"name":"suite","value":"test_payment"},{"name":"subSuite","value":"TestPayment"},{"name":"host","value":"fv-az768-876"},{"name":"thread","value":"5219-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.test_payment"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"add_product_to_cart","value":"10"},{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":2,"skipped":0,"passed":0,"unknown":0,"total":4},"items":[{"uid":"c2c4f02c18e447f2","status":"failed","statusDetails":"AssertionError: assert Decimal('423.97') == 15.0","time":{"start":1714121061618,"stop":1714121066273,"duration":4655}},{"uid":"f9fe3cecdc673cca","status":"failed","statusDetails":"AssertionError: assert Decimal('549.27') == 15.0","time":{"start":1714118558778,"stop":1714118562827,"duration":4049}},{"uid":"3148cff18bfe9c10","status":"broken","statusDetails":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]","time":{"start":1714116938066,"stop":1714116943009,"duration":4943}}]},"tags":[]},"source":"af3e2508ab5c33a1.json","parameterValues":["10","'chromium'"]}