{"uid":"cd48eb2b3f6dc04c","name":"Checking successful payment","fullName":"test.test_payment.TestPayment#test_successful_completion_delivery_data","historyId":"0000c5a01f3c463bb137945861335a0c","time":{"start":1714118590981,"stop":1714118610709,"duration":19728},"status":"broken","statusMessage":"TypeError: unsupported operand type(s) for +=: 'ErrorMessage' and 'str'","statusTrace":"self = <test_payment.TestPayment object at 0x7f8e98743950>\nproceed_to_payment = None\n\n    @pytest.mark.parametrize(\"add_product_to_cart\", [1], indirect=True)\n    @allure.title(\"Checking successful payment\")\n    def test_successful_completion_delivery_data(self, proceed_to_payment):\n        self.payment.set_email()\n        self.payment.set_name()\n        self.payment.click_button_manual_address()\n        self.payment.select_country_usa()\n        self.payment.set_address()\n        self.payment.set_city()\n        self.payment.set_postcode()\n        self.payment.set_state()\n        self.payment.check_free_shipping()\n        self.payment.modal_window_close()\n        self.payment.set_card()\n        self.payment.set_date_card()\n        self.payment.set_cvc_card()\n        self.payment.check_address_matches()\n        self.payment.check_state_button_submit()\n        self.payment.modal_window_close()\n        self.payment.click_button_submit()\n>       self.payment.payment_completed_successful()\n\ntest/test_payment.py:62: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7f8e985c5c10>\n\n    @allure.step(\"Checking successful payment\")\n    def payment_completed_successful(self):\n        self.expect(self.page, ErrorMessage.ERROR_URL). \\\n>           to_have_url(Links.PAYMENT_COMPLETED, timeout=10000)\nE       TypeError: unsupported operand type(s) for +=: 'ErrorMessage' and 'str'\n\npages/payment.py:183: TypeError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1714118499728,"stop":1714118499728,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1714118499729,"stop":1714118499729,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1714118499729,"stop":1714118499729,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1714118499729,"stop":1714118499729,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_session_faker","time":{"start":1714118499729,"stop":1714118499747,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright","time":{"start":1714118499747,"stop":1714118499997,"duration":250},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type_launch_args","time":{"start":1714118499747,"stop":1714118499747,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser","time":{"start":1714118499997,"stop":1714118500511,"duration":514},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type","time":{"start":1714118499997,"stop":1714118499997,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"launch_browser","time":{"start":1714118499997,"stop":1714118499997,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1714118500512,"stop":1714118500512,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"device","time":{"start":1714118500512,"stop":1714118500512,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Creating allure environments","time":{"start":1714118500512,"stop":1714118500512,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1714118583189,"stop":1714118583230,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1714118583230,"stop":1714118583495,"duration":265},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"add_product_to_cart","time":{"start":1714118583495,"stop":1714118587135,"duration":3640},"status":"passed","steps":[{"name":"Open URL","time":{"start":1714118583496,"stop":1714118585101,"duration":1605},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714118585101,"stop":1714118585235,"duration":134},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Add items to cart","time":{"start":1714118585235,"stop":1714118586666,"duration":1431},"status":"passed","steps":[{"name":"Number of products on the page","time":{"start":1714118586075,"stop":1714118586085,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118586273,"stop":1714118586666,"duration":393},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"quantity","value":"1"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Open the cart view window","time":{"start":1714118586666,"stop":1714118586868,"duration":202},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Open shopping cart","time":{"start":1714118586869,"stop":1714118587126,"duration":257},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714118587126,"stop":1714118587135,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":0,"hasContent":true},{"name":"setup","time":{"start":1714118583495,"stop":1714118583495,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Go to payment","time":{"start":1714118587135,"stop":1714118590980,"duration":3845},"status":"passed","steps":[{"name":"Click the payment button","time":{"start":1714118587135,"stop":1714118590969,"duration":3834},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Checking the site payment domain","time":{"start":1714118590969,"stop":1714118590980,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true}],"testStage":{"status":"broken","statusMessage":"TypeError: unsupported operand type(s) for +=: 'ErrorMessage' and 'str'","statusTrace":"self = <test_payment.TestPayment object at 0x7f8e98743950>\nproceed_to_payment = None\n\n    @pytest.mark.parametrize(\"add_product_to_cart\", [1], indirect=True)\n    @allure.title(\"Checking successful payment\")\n    def test_successful_completion_delivery_data(self, proceed_to_payment):\n        self.payment.set_email()\n        self.payment.set_name()\n        self.payment.click_button_manual_address()\n        self.payment.select_country_usa()\n        self.payment.set_address()\n        self.payment.set_city()\n        self.payment.set_postcode()\n        self.payment.set_state()\n        self.payment.check_free_shipping()\n        self.payment.modal_window_close()\n        self.payment.set_card()\n        self.payment.set_date_card()\n        self.payment.set_cvc_card()\n        self.payment.check_address_matches()\n        self.payment.check_state_button_submit()\n        self.payment.modal_window_close()\n        self.payment.click_button_submit()\n>       self.payment.payment_completed_successful()\n\ntest/test_payment.py:62: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7f8e985c5c10>\n\n    @allure.step(\"Checking successful payment\")\n    def payment_completed_successful(self):\n        self.expect(self.page, ErrorMessage.ERROR_URL). \\\n>           to_have_url(Links.PAYMENT_COMPLETED, timeout=10000)\nE       TypeError: unsupported operand type(s) for +=: 'ErrorMessage' and 'str'\n\npages/payment.py:183: TypeError","steps":[{"name":"Set email","time":{"start":1714118590981,"stop":1714118591299,"duration":318},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set name","time":{"start":1714118591299,"stop":1714118591457,"duration":158},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click the button to enter an address manually","time":{"start":1714118591457,"stop":1714118592049,"duration":592},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set country usa","time":{"start":1714118592049,"stop":1714118592309,"duration":260},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set address","time":{"start":1714118592310,"stop":1714118592669,"duration":359},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set city","time":{"start":1714118592669,"stop":1714118593413,"duration":744},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set postcode","time":{"start":1714118593413,"stop":1714118593762,"duration":349},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set state","time":{"start":1714118593762,"stop":1714118593897,"duration":135},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Checking for free delivery","time":{"start":1714118593897,"stop":1714118593919,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Close modal window","time":{"start":1714118593919,"stop":1714118595342,"duration":1423},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set card","time":{"start":1714118595342,"stop":1714118595389,"duration":47},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set date card","time":{"start":1714118595389,"stop":1714118595446,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Set cvc card","time":{"start":1714118595446,"stop":1714118595497,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Сheck address matches","time":{"start":1714118595497,"stop":1714118595511,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check submit button is inactive","time":{"start":1714118595511,"stop":1714118595525,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Close modal window","time":{"start":1714118595525,"stop":1714118600529,"duration":5004},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click button submit","time":{"start":1714118600529,"stop":1714118600701,"duration":172},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Checking successful payment","time":{"start":1714118600701,"stop":1714118610708,"duration":10007},"status":"broken","statusMessage":"TypeError: unsupported operand type(s) for +=: 'ErrorMessage' and 'str'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/training_store_shop_ui/training_store_shop_ui/pages/payment.py\", line 183, in payment_completed_successful\n    to_have_url(Links.PAYMENT_COMPLETED, timeout=10000)\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 18220, in to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 120, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 65, in _expect_impl\n    out_message += f\"\\nExpected value: '{expected or '<None>'}'\"\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":18,"attachmentsCount":0,"hasContent":true},"afterStages":[{"name":"page::0","time":{"start":1714118610721,"stop":1714118610914,"duration":193},"status":"passed","steps":[],"attachments":[{"uid":"c6aaddbb71066cdf","name":"test_successful_completion_delivery_data[webkit-1].png","source":"c6aaddbb71066cdf.png","type":"image/png","size":99145}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"context::0","time":{"start":1714118610914,"stop":1714118610936,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1714118644445,"stop":1714118644560,"duration":115},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::0","time":{"start":1714118644564,"stop":1714118644576,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"Order payment"},{"name":"parentSuite","value":"test"},{"name":"suite","value":"test_payment"},{"name":"subSuite","value":"TestPayment"},{"name":"host","value":"fv-az1499-178"},{"name":"thread","value":"5233-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.test_payment"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"add_product_to_cart","value":"1"},{"name":"browser_name","value":"'webkit'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":1,"unknown":0,"total":2},"items":[{"uid":"349ffa571e65137b","status":"passed","time":{"start":1714116992563,"stop":1714117007459,"duration":14896}}]},"tags":[]},"source":"cd48eb2b3f6dc04c.json","parameterValues":["1","'webkit'"]}