{"uid":"21aa71af8de3f474","name":"Price check with paid shipping","fullName":"test.test_payment.TestPayment#test_price_cart_in_payment_delivery_paid","historyId":"c3f67c4bc2ffc3f11295227f747f52bb","time":{"start":1714122519617,"stop":1714122524031,"duration":4414},"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]","statusTrace":"self = <test_payment.TestPayment object at 0x7f1ad8a1e8d0>\nadd_product_to_cart = None\n\n    @allure.title(\"Price check with paid shipping\")\n    def test_price_cart_in_payment_delivery_paid(self, add_product_to_cart):\n        total_product_posit_cart = self.shopping_cart.total_product_positions()\n        total_all_price_cart = self.shopping_cart.total_all_price()\n        self.shopping_cart.button_proceed_to_checkout_click()\n        self.payment.click_paid_shipping()\n        self.payment.click_button_all_products()\n        total_product_posit_pay = self.payment.total_product_positions_payment()\n        total_all_price_pay = self.payment.total_all_price_payment()\n>       delivery = self.payment.cost_delivery()\n\ntest/test_payment.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7f1ad843e0c0>\n\n    @allure.step(\"Delivery price\")\n    def cost_delivery(self):\n        free_shipping = self.page.locator(self.RADIOBUTTON_FREE_SHIPPING).nth(0)\n        paid_shipping = self.page.locator(self.RADIOBUTTON_PAID_SHIPPING).nth(1)\n        if free_shipping.is_checked():\n            price = self.page.locator(self.DELIVERY_PRICE).inner_text()\n            assert price == 'Free'\n            return 0\n        elif paid_shipping.is_checked():\n            len_price = self.page.locator(self.CURRENCY).count()\n            price_str = self.page.locator(self.CURRENCY).nth(len_price - 3).inner_text()\n>           price = Decimal(price_str.replace('$', '')\\\n                            .replace(',', '.')\\\n                            .replace('\\xa0', ''))\nE           decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n\npages/payment.py:153: InvalidOperation","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1714122124771,"stop":1714122124771,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1714122124771,"stop":1714122124771,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1714122124771,"stop":1714122124772,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1714122124771,"stop":1714122124771,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_session_faker","time":{"start":1714122124772,"stop":1714122124791,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright","time":{"start":1714122124791,"stop":1714122125036,"duration":245},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type_launch_args","time":{"start":1714122124791,"stop":1714122124791,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"device","time":{"start":1714122126050,"stop":1714122126051,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1714122126051,"stop":1714122126051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser","time":{"start":1714122452492,"stop":1714122452708,"duration":216},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"launch_browser","time":{"start":1714122452492,"stop":1714122452492,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type","time":{"start":1714122452492,"stop":1714122452492,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Creating allure environments","time":{"start":1714122452708,"stop":1714122452708,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1714122512342,"stop":1714122512352,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1714122512352,"stop":1714122512396,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"setup","time":{"start":1714122512396,"stop":1714122512396,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"add_product_to_cart","time":{"start":1714122512396,"stop":1714122519616,"duration":7220},"status":"passed","steps":[{"name":"Open URL","time":{"start":1714122512396,"stop":1714122514202,"duration":1806},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714122514203,"stop":1714122514231,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Add items to cart","time":{"start":1714122514231,"stop":1714122519292,"duration":5061},"status":"passed","steps":[{"name":"Number of products on the page","time":{"start":1714122515178,"stop":1714122515185,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122515232,"stop":1714122515591,"duration":359},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122515652,"stop":1714122516007,"duration":355},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122516055,"stop":1714122516422,"duration":367},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122516472,"stop":1714122516837,"duration":365},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122516888,"stop":1714122517237,"duration":349},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122517296,"stop":1714122517667,"duration":371},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122517725,"stop":1714122518098,"duration":373},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122518168,"stop":1714122518429,"duration":261},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122518487,"stop":1714122518862,"duration":375},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714122518924,"stop":1714122519292,"duration":368},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"quantity","value":"10"}],"shouldDisplayMessage":false,"stepsCount":11,"attachmentsCount":0,"hasContent":true},{"name":"Open the cart view window","time":{"start":1714122519292,"stop":1714122519388,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Open shopping cart","time":{"start":1714122519389,"stop":1714122519606,"duration":217},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714122519606,"stop":1714122519616,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":17,"attachmentsCount":0,"hasContent":true}],"testStage":{"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]","statusTrace":"self = <test_payment.TestPayment object at 0x7f1ad8a1e8d0>\nadd_product_to_cart = None\n\n    @allure.title(\"Price check with paid shipping\")\n    def test_price_cart_in_payment_delivery_paid(self, add_product_to_cart):\n        total_product_posit_cart = self.shopping_cart.total_product_positions()\n        total_all_price_cart = self.shopping_cart.total_all_price()\n        self.shopping_cart.button_proceed_to_checkout_click()\n        self.payment.click_paid_shipping()\n        self.payment.click_button_all_products()\n        total_product_posit_pay = self.payment.total_product_positions_payment()\n        total_all_price_pay = self.payment.total_all_price_payment()\n>       delivery = self.payment.cost_delivery()\n\ntest/test_payment.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7f1ad843e0c0>\n\n    @allure.step(\"Delivery price\")\n    def cost_delivery(self):\n        free_shipping = self.page.locator(self.RADIOBUTTON_FREE_SHIPPING).nth(0)\n        paid_shipping = self.page.locator(self.RADIOBUTTON_PAID_SHIPPING).nth(1)\n        if free_shipping.is_checked():\n            price = self.page.locator(self.DELIVERY_PRICE).inner_text()\n            assert price == 'Free'\n            return 0\n        elif paid_shipping.is_checked():\n            len_price = self.page.locator(self.CURRENCY).count()\n            price_str = self.page.locator(self.CURRENCY).nth(len_price - 3).inner_text()\n>           price = Decimal(price_str.replace('$', '')\\\n                            .replace(',', '.')\\\n                            .replace('\\xa0', ''))\nE           decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n\npages/payment.py:153: InvalidOperation","steps":[{"name":"Number of product positions","time":{"start":1714122519617,"stop":1714122519624,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Price of the total order","time":{"start":1714122519624,"stop":1714122519630,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click the payment button","time":{"start":1714122519630,"stop":1714122523526,"duration":3896},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click radio button paid shipping","time":{"start":1714122523526,"stop":1714122523852,"duration":326},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click button all products","time":{"start":1714122523852,"stop":1714122523962,"duration":110},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Number of product positions in payment","time":{"start":1714122523962,"stop":1714122523978,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Price of the total order in payment","time":{"start":1714122523978,"stop":1714122524000,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Delivery price","time":{"start":1714122524000,"stop":1714122524031,"duration":31},"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/training_store_shop_ui/training_store_shop_ui/pages/payment.py\", line 153, in cost_delivery\n    price = Decimal(price_str.replace('$', '')\\\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":8,"attachmentsCount":0,"hasContent":true},"afterStages":[{"name":"page::0","time":{"start":1714122524040,"stop":1714122524278,"duration":238},"status":"passed","steps":[],"attachments":[{"uid":"26803eeafb8867c5","name":"test_price_cart_in_payment_delivery_paid[10-chromium].png","source":"26803eeafb8867c5.png","type":"image/png","size":165786}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"context::0","time":{"start":1714122524279,"stop":1714122524288,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1714122595696,"stop":1714122595743,"duration":47},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::0","time":{"start":1714122595746,"stop":1714122595756,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"Order payment"},{"name":"parentSuite","value":"test"},{"name":"suite","value":"test_payment"},{"name":"subSuite","value":"TestPayment"},{"name":"host","value":"fv-az695-822"},{"name":"thread","value":"5247-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.test_payment"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"add_product_to_cart","value":"10"},{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":2,"skipped":0,"passed":0,"unknown":0,"total":4},"items":[{"uid":"58397316c0486670","status":"failed","statusDetails":"AssertionError: assert Decimal('429.29') == 15.0","time":{"start":1714121354107,"stop":1714121358260,"duration":4153}},{"uid":"22c4c4b4e609c961","status":"broken","statusDetails":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]","time":{"start":1714118825429,"stop":1714118829996,"duration":4567}},{"uid":"a7cee6dd6b3316fd","status":"failed","statusDetails":"AssertionError: assert Decimal('521.98') == 15.0","time":{"start":1714118140217,"stop":1714118144747,"duration":4530}}]},"tags":[]},"source":"21aa71af8de3f474.json","parameterValues":["10","'chromium'"]}