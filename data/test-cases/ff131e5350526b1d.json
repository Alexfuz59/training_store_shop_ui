{"uid":"ff131e5350526b1d","name":"Price check with paid shipping","fullName":"test.test_payment.TestPayment#test_price_cart_in_payment_delivery_paid","historyId":"54e55de6c33d7d3824759177208b506b","time":{"start":1714118128725,"stop":1714118133019,"duration":4294},"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]","statusTrace":"self = <test_payment.TestPayment object at 0x7f6272f1e480>\nadd_product_to_cart = None\n\n    @allure.title(\"Price check with paid shipping\")\n    def test_price_cart_in_payment_delivery_paid(self, add_product_to_cart):\n        total_product_posit_cart = self.shopping_cart.total_product_positions()\n        total_all_price_cart = self.shopping_cart.total_all_price()\n        self.shopping_cart.button_proceed_to_checkout_click()\n        self.payment.click_paid_shipping()\n        self.payment.click_button_all_products()\n        total_product_posit_pay = self.payment.total_product_positions_payment()\n        total_all_price_pay = self.payment.total_all_price_payment()\n>       delivery = self.payment.cost_delivery()\n\ntest/test_payment.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7f62727bbef0>\n\n    @allure.step(\"Delivery price\")\n    def cost_delivery(self):\n        free_shipping = self.page.locator(self.RADIOBUTTON_FREE_SHIPPING).nth(0)\n        paid_shipping = self.page.locator(self.RADIOBUTTON_PAID_SHIPPING).nth(1)\n        if free_shipping.is_checked():\n            price = self.page.locator(self.DELIVERY_PRICE).inner_text()\n            assert price == 'Free'\n            return 0\n        elif paid_shipping.is_checked():\n            len_price = self.page.locator(self.CURRENCY).count()\n            price_str = self.page.locator(self.CURRENCY).nth(len_price - 3).inner_text()\n>           price = Decimal(price_str.replace('$', '') \\\n                          .replace(',', '.') \\\n                          .replace('\\xa0', ''))\nE           decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n\npages/payment.py:153: InvalidOperation","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1714117791619,"stop":1714117791620,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_session_faker","time":{"start":1714117791620,"stop":1714117791637,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1714117791620,"stop":1714117791620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1714117791620,"stop":1714117791620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1714117791620,"stop":1714117791620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type_launch_args","time":{"start":1714117791637,"stop":1714117791637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright","time":{"start":1714117791638,"stop":1714117791882,"duration":244},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1714117792515,"stop":1714117792515,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"device","time":{"start":1714117792515,"stop":1714117792515,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"launch_browser","time":{"start":1714118092088,"stop":1714118092088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type","time":{"start":1714118092088,"stop":1714118092088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser","time":{"start":1714118092089,"stop":1714118092187,"duration":98},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Creating allure environments","time":{"start":1714118092188,"stop":1714118092188,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1714118123987,"stop":1714118123995,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1714118123995,"stop":1714118124032,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"add_product_to_cart","time":{"start":1714118124032,"stop":1714118128725,"duration":4693},"status":"passed","steps":[{"name":"Open URL","time":{"start":1714118124032,"stop":1714118125247,"duration":1215},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714118125247,"stop":1714118125271,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Add items to cart","time":{"start":1714118125271,"stop":1714118128452,"duration":3181},"status":"passed","steps":[{"name":"Number of products on the page","time":{"start":1714118126380,"stop":1714118126387,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118126435,"stop":1714118126789,"duration":354},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118126841,"stop":1714118127207,"duration":366},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118127257,"stop":1714118127621,"duration":364},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118127674,"stop":1714118128037,"duration":363},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118128090,"stop":1714118128452,"duration":362},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"quantity","value":"5"}],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true},{"name":"Open the cart view window","time":{"start":1714118128452,"stop":1714118128529,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Open shopping cart","time":{"start":1714118128529,"stop":1714118128715,"duration":186},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714118128715,"stop":1714118128724,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":12,"attachmentsCount":0,"hasContent":true},{"name":"setup","time":{"start":1714118124032,"stop":1714118124032,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]","statusTrace":"self = <test_payment.TestPayment object at 0x7f6272f1e480>\nadd_product_to_cart = None\n\n    @allure.title(\"Price check with paid shipping\")\n    def test_price_cart_in_payment_delivery_paid(self, add_product_to_cart):\n        total_product_posit_cart = self.shopping_cart.total_product_positions()\n        total_all_price_cart = self.shopping_cart.total_all_price()\n        self.shopping_cart.button_proceed_to_checkout_click()\n        self.payment.click_paid_shipping()\n        self.payment.click_button_all_products()\n        total_product_posit_pay = self.payment.total_product_positions_payment()\n        total_all_price_pay = self.payment.total_all_price_payment()\n>       delivery = self.payment.cost_delivery()\n\ntest/test_payment.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7f62727bbef0>\n\n    @allure.step(\"Delivery price\")\n    def cost_delivery(self):\n        free_shipping = self.page.locator(self.RADIOBUTTON_FREE_SHIPPING).nth(0)\n        paid_shipping = self.page.locator(self.RADIOBUTTON_PAID_SHIPPING).nth(1)\n        if free_shipping.is_checked():\n            price = self.page.locator(self.DELIVERY_PRICE).inner_text()\n            assert price == 'Free'\n            return 0\n        elif paid_shipping.is_checked():\n            len_price = self.page.locator(self.CURRENCY).count()\n            price_str = self.page.locator(self.CURRENCY).nth(len_price - 3).inner_text()\n>           price = Decimal(price_str.replace('$', '') \\\n                          .replace(',', '.') \\\n                          .replace('\\xa0', ''))\nE           decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n\npages/payment.py:153: InvalidOperation","steps":[{"name":"Number of product positions","time":{"start":1714118128726,"stop":1714118128731,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Price of the total order","time":{"start":1714118128732,"stop":1714118128739,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click the payment button","time":{"start":1714118128739,"stop":1714118132198,"duration":3459},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click radio button paid shipping","time":{"start":1714118132198,"stop":1714118132735,"duration":537},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click button all products","time":{"start":1714118132735,"stop":1714118132911,"duration":176},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Number of product positions in payment","time":{"start":1714118132911,"stop":1714118132931,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Price of the total order in payment","time":{"start":1714118132931,"stop":1714118132964,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Delivery price","time":{"start":1714118132964,"stop":1714118133018,"duration":54},"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/training_store_shop_ui/training_store_shop_ui/pages/payment.py\", line 153, in cost_delivery\n    price = Decimal(price_str.replace('$', '') \\\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":8,"attachmentsCount":0,"hasContent":true},"afterStages":[{"name":"page::0","time":{"start":1714118133034,"stop":1714118133457,"duration":423},"status":"passed","steps":[],"attachments":[{"uid":"2615fa610aa85932","name":"test_price_cart_in_payment_delivery_paid[5-chromium].png","source":"2615fa610aa85932.png","type":"image/png","size":141900}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"context::0","time":{"start":1714118133457,"stop":1714118133477,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1714118190498,"stop":1714118190537,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::0","time":{"start":1714118194052,"stop":1714118194061,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"Order payment"},{"name":"parentSuite","value":"test"},{"name":"suite","value":"test_payment"},{"name":"subSuite","value":"TestPayment"},{"name":"host","value":"fv-az569-497"},{"name":"thread","value":"5319-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.test_payment"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"add_product_to_cart","value":"5"},{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"ff131e5350526b1d.json","parameterValues":["5","'chromium'"]}