{"uid":"19dfb08583083d5","name":"Price check with paid shipping","fullName":"test.test_payment.TestPayment#test_price_cart_in_payment_delivery_paid","historyId":"67f34f6516686c153018094aa2b1390d","time":{"start":1714118734966,"stop":1714118739116,"duration":4150},"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]","statusTrace":"self = <test_payment.TestPayment object at 0x7f4b49c3e570>\nadd_product_to_cart = None\n\n    @allure.title(\"Price check with paid shipping\")\n    def test_price_cart_in_payment_delivery_paid(self, add_product_to_cart):\n        total_product_posit_cart = self.shopping_cart.total_product_positions()\n        total_all_price_cart = self.shopping_cart.total_all_price()\n        self.shopping_cart.button_proceed_to_checkout_click()\n        self.payment.click_paid_shipping()\n        self.payment.click_button_all_products()\n        total_product_posit_pay = self.payment.total_product_positions_payment()\n        total_all_price_pay = self.payment.total_all_price_payment()\n>       delivery = self.payment.cost_delivery()\n\ntest/test_payment.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7f4b498999d0>\n\n    @allure.step(\"Delivery price\")\n    def cost_delivery(self):\n        free_shipping = self.page.locator(self.RADIOBUTTON_FREE_SHIPPING).nth(0)\n        paid_shipping = self.page.locator(self.RADIOBUTTON_PAID_SHIPPING).nth(1)\n        if free_shipping.is_checked():\n            price = self.page.locator(self.DELIVERY_PRICE).inner_text()\n            assert price == 'Free'\n            return 0\n        elif paid_shipping.is_checked():\n            len_price = self.page.locator(self.CURRENCY).count()\n            price_str = self.page.locator(self.CURRENCY).nth(len_price - 3).inner_text()\n>           price = Decimal(price_str.replace('$', '') \\\n                          .replace(',', '.') \\\n                          .replace('\\xa0', ''))\nE           decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n\npages/payment.py:153: InvalidOperation","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1714118512277,"stop":1714118512278,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1714118512277,"stop":1714118512277,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1714118512277,"stop":1714118512277,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1714118512277,"stop":1714118512277,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_session_faker","time":{"start":1714118512278,"stop":1714118512296,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright","time":{"start":1714118512296,"stop":1714118512535,"duration":239},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type_launch_args","time":{"start":1714118512296,"stop":1714118512296,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"device","time":{"start":1714118512985,"stop":1714118512985,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1714118512985,"stop":1714118512985,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser","time":{"start":1714118652832,"stop":1714118653182,"duration":350},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type","time":{"start":1714118652832,"stop":1714118652832,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"launch_browser","time":{"start":1714118652832,"stop":1714118652832,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Creating allure environments","time":{"start":1714118653182,"stop":1714118653183,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1714118727575,"stop":1714118727582,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1714118727582,"stop":1714118727819,"duration":237},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"add_product_to_cart","time":{"start":1714118727819,"stop":1714118734965,"duration":7146},"status":"passed","steps":[{"name":"Open URL","time":{"start":1714118727819,"stop":1714118729048,"duration":1229},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714118729048,"stop":1714118729081,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Add items to cart","time":{"start":1714118729081,"stop":1714118734531,"duration":5450},"status":"passed","steps":[{"name":"Number of products on the page","time":{"start":1714118729905,"stop":1714118729913,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118729972,"stop":1714118730365,"duration":393},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118730433,"stop":1714118730816,"duration":383},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118730895,"stop":1714118731458,"duration":563},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118731523,"stop":1714118731912,"duration":389},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118731974,"stop":1714118732360,"duration":386},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118732415,"stop":1714118732798,"duration":383},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118732871,"stop":1714118733271,"duration":400},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118733372,"stop":1714118733646,"duration":274},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118733697,"stop":1714118734086,"duration":389},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Push notification add item to cart","time":{"start":1714118734147,"stop":1714118734531,"duration":384},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"quantity","value":"10"}],"shouldDisplayMessage":false,"stepsCount":11,"attachmentsCount":0,"hasContent":true},{"name":"Open the cart view window","time":{"start":1714118734531,"stop":1714118734601,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Open shopping cart","time":{"start":1714118734601,"stop":1714118734953,"duration":352},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check is opened URL","time":{"start":1714118734953,"stop":1714118734965,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":17,"attachmentsCount":0,"hasContent":true},{"name":"setup","time":{"start":1714118727819,"stop":1714118727819,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]","statusTrace":"self = <test_payment.TestPayment object at 0x7f4b49c3e570>\nadd_product_to_cart = None\n\n    @allure.title(\"Price check with paid shipping\")\n    def test_price_cart_in_payment_delivery_paid(self, add_product_to_cart):\n        total_product_posit_cart = self.shopping_cart.total_product_positions()\n        total_all_price_cart = self.shopping_cart.total_all_price()\n        self.shopping_cart.button_proceed_to_checkout_click()\n        self.payment.click_paid_shipping()\n        self.payment.click_button_all_products()\n        total_product_posit_pay = self.payment.total_product_positions_payment()\n        total_all_price_pay = self.payment.total_all_price_payment()\n>       delivery = self.payment.cost_delivery()\n\ntest/test_payment.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.payment.Payment object at 0x7f4b498999d0>\n\n    @allure.step(\"Delivery price\")\n    def cost_delivery(self):\n        free_shipping = self.page.locator(self.RADIOBUTTON_FREE_SHIPPING).nth(0)\n        paid_shipping = self.page.locator(self.RADIOBUTTON_PAID_SHIPPING).nth(1)\n        if free_shipping.is_checked():\n            price = self.page.locator(self.DELIVERY_PRICE).inner_text()\n            assert price == 'Free'\n            return 0\n        elif paid_shipping.is_checked():\n            len_price = self.page.locator(self.CURRENCY).count()\n            price_str = self.page.locator(self.CURRENCY).nth(len_price - 3).inner_text()\n>           price = Decimal(price_str.replace('$', '') \\\n                          .replace(',', '.') \\\n                          .replace('\\xa0', ''))\nE           decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n\npages/payment.py:153: InvalidOperation","steps":[{"name":"Number of product positions","time":{"start":1714118734966,"stop":1714118734978,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Price of the total order","time":{"start":1714118734978,"stop":1714118734986,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click the payment button","time":{"start":1714118734986,"stop":1714118737398,"duration":2412},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click radio button paid shipping","time":{"start":1714118737398,"stop":1714118738405,"duration":1007},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click button all products","time":{"start":1714118738405,"stop":1714118739046,"duration":641},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Number of product positions in payment","time":{"start":1714118739046,"stop":1714118739062,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Price of the total order in payment","time":{"start":1714118739062,"stop":1714118739080,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Delivery price","time":{"start":1714118739080,"stop":1714118739115,"duration":35},"status":"broken","statusMessage":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/training_store_shop_ui/training_store_shop_ui/pages/payment.py\", line 153, in cost_delivery\n    price = Decimal(price_str.replace('$', '') \\\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":8,"attachmentsCount":0,"hasContent":true},"afterStages":[{"name":"page::0","time":{"start":1714118739129,"stop":1714118739345,"duration":216},"status":"passed","steps":[],"attachments":[{"uid":"552b065c6c8868c1","name":"test_price_cart_in_payment_delivery_paid[10-firefox].png","source":"552b065c6c8868c1.png","type":"image/png","size":191195}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"context::0","time":{"start":1714118739346,"stop":1714118739370,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1714118767314,"stop":1714118767900,"duration":586},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::0","time":{"start":1714118894963,"stop":1714118894973,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"Order payment"},{"name":"parentSuite","value":"test"},{"name":"suite","value":"test_payment"},{"name":"subSuite","value":"TestPayment"},{"name":"host","value":"fv-az849-631"},{"name":"thread","value":"5264-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.test_payment"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"add_product_to_cart","value":"10"},{"name":"browser_name","value":"'firefox'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"5517d4a21260c63a","status":"broken","statusDetails":"decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]","time":{"start":1714118018300,"stop":1714118022194,"duration":3894}}]},"tags":[]},"source":"19dfb08583083d5.json","parameterValues":["10","'firefox'"]}